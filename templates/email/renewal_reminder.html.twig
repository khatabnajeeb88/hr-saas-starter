{% extends 'email/base.html.twig' %}

{% block title %}{{ 'email.renewal_reminder.title'|trans }}{% endblock %}

{% block stylesheets %}
    <style>
        .info { background: #EEF2FF; padding: 15px; margin: 20px 0; border-radius: 6px; }
    </style>
{% endblock %}

{% block content %}
    <p>{{ 'email.renewal_reminder.greeting'|trans({'%email%': user.email}) }},</p>
    
    <p>{{ 'email.renewal_reminder.message'|trans }}</p>
    
    <div class="info">
        <p><strong>{{ 'email.renewal_reminder.renewal_date'|trans }}:</strong> {{ subscription.nextBillingDate|date('M d, Y') }}</p>
        <p><strong>{{ 'email.renewal_reminder.plan'|trans }}:</strong> {{ subscription.plan.name }}</p>
        <p><strong>{{ 'email.renewal_reminder.amount'|trans }}:</strong> {{ subscription.plan.formattedPrice }}</p>
    </div>
    
    <p>{{ 'email.renewal_reminder.payment_info'|trans({'%last4%': subscription.paymentMethodId ? '****' : 'email.renewal_reminder.not_set'|trans })|raw }}</p>
    
    <p><strong>{{ 'email.renewal_reminder.whats_included'|trans }}:</strong></p>
    <ul>
        {% for planFeature in subscription.plan.planFeatures|slice(0, 5) %}
            {% if planFeature.enabled %}
            <li>{{ planFeature.feature.name }}</li>
            {% endif %}
        {% endfor %}
    </ul>
    
    <p>{{ 'email.renewal_reminder.auto_renew'|trans }}</p>
    
    <div style="text-align: center;">
        <a href="{{ url('subscription_current') }}" class="button">{{ 'email.renewal_reminder.button'|trans }}</a>
    </div>
    
    <p>{{ 'email.renewal_reminder.cancel_info'|trans }}</p>
{% endblock %}
